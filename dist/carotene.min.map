{"version":3,"file":"carotene.min.js","sources":["carotene.js"],"names":["$","extend","bullet","url","options","CONNECTING","OPEN","CLOSING","CLOSED","httpURL","replace","connectionId","undefined","disableWebSocket","xhrSend","data","this","readyState","self","headers","X-Socket-Transport","ajax","async","cache","type","dataType","contentType","success","length","onmessage","transports","websocket","transport","window","WebSocket","MozWebSocket","navigator","userAgent","indexOf","heart","eventsource","disableEventSource","EventSource","source","onopen","fake","event","onerror","close","send","onclose","xhrPolling","disableXHRPolling","timeout","xhr","abort","clearTimeout","poll","textStatus","request","getResponseHeader","stream","nextPoll","error","setTimeout","tn","next","c","f","t","ret","isClosed","heartbeat","delay","delayDefault","delayMax","init","setInterval","onheartbeat","clearInterval","e","ondisconnect","setURL","newURL","jQuery","caroteneConstructor","caroteneUrl","userId","token","state","channelsSubscribed","onPresence","onInfo","doSubscribe","channel","message","JSON","stringify","subscribe","getPresence","doSetOnPresence","callback","doSetOnInfo","doAuthenticate","authenticate","subscribeToChannels","doPublish","publish","connect","evt","onOpen","onClose","onMessagePreprocess","onError","payload","parse","Object","prototype","toString","call","i","onMessage","processMessage","processPresence","processInfo","toSend","fromServer","user_id","userData","user_data","subscribers","config","pubdata","authdata","presence","presencedata","setOnPresence","setOnInfo","Carotene"],"mappings":"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"}